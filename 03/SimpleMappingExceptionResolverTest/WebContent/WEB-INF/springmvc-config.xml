<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc.xsd     
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">
        
    <!-- spring可以自动去扫描base-pack下面的包或者子包下面的java文件，
    	如果扫描到有Spring的相关注解的类，则把这些类注册为Spring的bean -->
    <context:component-scan base-package="org.fkit.controller"/>
    <!-- 默认配置方案 -->
    <mvc:annotation-driven/>
	<!-- 静态资源处理 -->
    <mvc:default-servlet-handler/>
    
    <!-- 视图解析器  p:prefix属性表示前缀  p:suffix 表示后缀  -->
     <bean id="viewResolver"
          class="org.springframework.web.servlet.view.InternalResourceViewResolver"
          p:prefix="/WEB-INF/content/" p:suffix=".jsp"/> 
    
    <!-- 异常处理
    	p:defaultErrorView="error"表示所有没有指定的异常,都跳转到异常处理页面error
    	p:exceptionAttribute="ex"表示异常处理页面中访问的异常对象变量名是ex
     -->
    <bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver"
    	p:defaultErrorView="error"
    	p:exceptionAttribute="ex">
    	<!-- 异常映射 
    		exceptionMappings表示映射的异常，接受参数是一个Properties
    		key是异常类名，value是处理异常的页面
    	-->
    	<property name="exceptionMappings">
    		<props>
    			<prop key="IOException">ioerror</prop>
    			<prop key="SQLException">sqlerror</prop>
    		</props>
    	</property>
    </bean>
    
</beans>